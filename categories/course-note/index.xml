<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Course-Note on diefish&#39;s blog</title>
    <link>https://diefish1024.github.io/categories/course-note/</link>
    <description>Recent content in Course-Note on diefish&#39;s blog</description>
    <image>
      <title>diefish&#39;s blog</title>
      <url>https://diefish1024.github.io/images/avatar.jpg</url>
      <link>https://diefish1024.github.io/images/avatar.jpg</link>
    </image>
    <generator>Hugo -- 0.148.2</generator>
    <language>zh-cn</language>
    <atom:link href="https://diefish1024.github.io/categories/course-note/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>15. å¹¶å‘æ§åˆ¶ï¼šåŒæ­¥æ¡ä»¶å˜é‡</title>
      <link>https://diefish1024.github.io/posts/nju-os-2025/15-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/nju-os-2025/15-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/</guid>
      <description>&lt;h2 id=&#34;åŒæ­¥å’Œæ¡ä»¶å˜é‡&#34;&gt;åŒæ­¥å’Œæ¡ä»¶å˜é‡&lt;/h2&gt;
&lt;p&gt;äº’æ–¥å®ç°äº†&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;ï¼Œä½†æ˜¯æ— æ³•å®ç°&lt;strong&gt;ç¡®å®šæ€§&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯æ— æ³•æ­£ç¡®å®ç° &amp;ldquo;happens-before&amp;rdquo; çš„å…³ç³»&lt;/p&gt;
&lt;p&gt;å› æ­¤éœ€è¦å¼•å…¥æ¡ä»¶å˜é‡æ¥å®ç°çº¿ç¨‹çš„åŒæ­¥ï¼Œå½¢æˆå—æ§åˆ¶çš„å¹¶å‘äº‹ä»¶çš„&lt;strong&gt;å‘ç”Ÿé¡ºåº&lt;/strong&gt;ï¼ˆå¯ä»¥ç”¨ä¹å›¢æŒ‡æŒ¥æ¥ç±»æ¯”ï¼‰ï¼ŒæŠŠä¸€ç³»åˆ—ä¸ç¡®å®šçš„çŠ¶æ€åœ¨æŸä¸€ä¸ªæ—¶é—´ç‚¹åŒæ­¥åˆ°äº†ä¸€ä¸ªç¡®å®šçš„çŠ¶æ€ï¼Œå°†å‘æ•£çš„å¹¶å‘ç¨‹åºçŠ¶æ€ â€œæ”¶æŸâ€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ç°åŒæ­¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ç° $ A\to B $ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;until&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;condition&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;satisfied&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ ·çš„æ€è·¯å¤§è‡´æ­£ç¡®ï¼Œä½†æ˜¯è‡ªé€‰çš„å¾ªç¯æœ‰å¾ˆå¤§çš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªæ›´åŠ åº•å±‚çš„æœºåˆ¶æ¥å¸®åŠ©å®ç°è¿™ä¸€ç‚¹&lt;/p&gt;
&lt;p&gt;æœ€ç†æƒ³çš„ API æ˜¯ &lt;code&gt;wait_until(cond)&lt;/code&gt; ï¼Œä½†æ˜¯è¿‡å»ä¸ºäº†ç®€åŒ–è®¾è®¡ï¼Œå˜æˆäº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¡ä»¶ä¸æ»¡è¶³æ—¶ç­‰å¾…ï¼š&lt;code&gt;wait&lt;/code&gt; - ç›´æ¥ç¡çœ ç­‰å¾…&lt;/li&gt;
&lt;li&gt;æ¡ä»¶æ»¡è¶³æ—¶ç»§ç»­ï¼š&lt;code&gt;signal/broadcast&lt;/code&gt; - å”¤é†’æ‰€æœ‰çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆå°æ—¶å€™çš„ scratch ç¼–ç¨‹å…¶å®å·²ç»æœ‰äº†è¿™æ ·çš„æ€æƒ³ğŸ˜‚ï¼‰&lt;/p&gt;
&lt;p&gt;åœ¨ c++ ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥æŠŠæ¡ä»¶æ”¾åˆ° $ \lambda $ è¡¨è¾¾å¼ä¸­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mtx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;condition_variable&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;T_player&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unique_lock&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mtx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;[]{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;notify_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ³¨æ„æ¡ä»¶å˜é‡åœ¨ç­‰å¾…æ—¶éœ€è¦å¸¦ç€ä¸€æŠŠé”ï¼ˆéœ€è¦ç¡®ä¿æ£€æŸ¥å’Œç­‰å¾…æ˜¯åŸå­æ“ä½œï¼‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>16. å¹¶å‘æ§åˆ¶ï¼šåŒæ­¥ä¿¡å·é‡</title>
      <link>https://diefish1024.github.io/posts/nju-os-2025/16-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5%E4%BF%A1%E5%8F%B7%E9%87%8F/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/nju-os-2025/16-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5%E4%BF%A1%E5%8F%B7%E9%87%8F/</guid>
      <description>&lt;h2 id=&#34;ä¿¡å·é‡&#34;&gt;ä¿¡å·é‡&lt;/h2&gt;
&lt;p&gt;äº’æ–¥é”åœ¨æŸç§æ„ä¹‰ä¸Šä¹Ÿå¯ä»¥è®¤ä¸ºå®ç°äº† &amp;ldquo;happens-before&amp;rdquo; çš„ä¾èµ–å…³ç³»â€”â€” release å¿…ç„¶å‘ç”Ÿåœ¨ acquire ä¹‹å‰ã€‚æˆ‘ä»¬å¯ä»¥è¯•ç€åˆ©ç”¨è¿™ç§ä¾èµ–å…³ç³»æ¥å®ç°è®¡ç®—å›¾çš„è°ƒåº¦ï¼šä¸ºæ¯æ¡è¾¹åˆ†é…ä¸€ä¸ªäº’æ–¥é”ï¼Œä»£è¡¨æ•°æ®æˆ–å‰ç½®ä»»åŠ¡çš„å®Œæˆï¼›ä¸€ä¸ªèŠ‚ç‚¹å¿…é¡»è·å¾—æ‰€æœ‰å…¥è¾¹å¯¹åº”çš„äº’æ–¥é”æ‰èƒ½å¼€å§‹è®¡ç®—ï¼Œè®¡ç®—å®Œæˆåï¼Œå°±é‡Šæ”¾æ‰€æœ‰å‡ºè¾¹å¯¹åº”çš„äº’æ–¥é”ï¼Œé€šçŸ¥ä¸‹æ¸¸èŠ‚ç‚¹è¾“å‡ºå°±ç»ªï¼ˆä½†æ˜¯è¿™ç§ç›´æ¥ä½¿ç”¨äº’æ–¥é”ä½œä¸ºè¾¹çŠ¶æ€ä¿¡å·çš„æ–¹å¼æ˜¯ undefined behaviorï¼Œå› ä¸ºäº’æ–¥é”ä¸»è¦ç”¨äºä¿æŠ¤ä¸´ç•ŒåŒºï¼Œå…¶é‡Šæ”¾é€šå¸¸è¦æ±‚ç”±æŒæœ‰å®ƒçš„çº¿ç¨‹å®Œæˆï¼Œè‹¥é‡Šæ”¾æœªæ›¾è·å–çš„é”ï¼Œåˆ™è¡Œä¸ºæœªå®šä¹‰ï¼‰&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å¯ä»¥ä»è¿™ç§æƒ³æ³•ä¸­æŠ½è±¡å‡ºå…¶æœ¬è´¨ï¼Œä¹Ÿå°±æ˜¯ç”¨ä¸€ä¸ªâ€œ&lt;strong&gt;ä¿¡å·&lt;/strong&gt;â€å»è·å–èµ„æºçš„è®¸å¯ï¼Œç±»ä¼¼é¤å…çš„å–å·åƒé¥­&lt;/p&gt;
&lt;p&gt;è¿™ç§&lt;strong&gt;ä¿¡å·&lt;/strong&gt;çš„æ€æƒ³å¾ˆé€‚åˆç”¨æ¥ç®¡ç†&lt;strong&gt;è®¡æ•°ç±»å‹çš„åŒç±»èµ„æº&lt;/strong&gt;ï¼Œæ¯”å¦‚åœè½¦åœºçš„ç©ºä½ï¼Œä¸ºäº†å®ç°è¿™ç§ producer-customer çš„é—®é¢˜ï¼Œç”¨ &lt;a href=&#34;15.%20%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%EF%BC%9A%E5%90%8C%E6%AD%A5%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F.md&#34;&gt;æ¡ä»¶å˜é‡&lt;/a&gt; å¯ä»¥è½»æ˜“è§£å†³ï¼Œè¿›å…¥çš„æ¡ä»¶å°±æ˜¯å­˜åœ¨ç©ºä½ &lt;code&gt;count &amp;lt; capacity&lt;/code&gt; ï¼Œé‚£æˆ‘ä»¬ä»å‡å°‘å˜é‡çš„è§’åº¦å‡ºå‘ï¼Œè¿™å®é™…ä¸Šä¹Ÿå°±æ˜¯å‰©ä½™ç©ºä½çš„æ•°é‡å¤§äºé›¶ï¼Œæˆ‘ä»¬åœè½¦ç›¸å½“äº&lt;strong&gt;æ¶ˆè€—&lt;/strong&gt;äº†ä¸€ä¸ªè½¦ä½ï¼Œç¦»å¼€ç›¸å½“äº&lt;strong&gt;åˆ›é€ &lt;/strong&gt;äº†ä¸€ä¸ªè½¦ä½ï¼Œè¿™ä¹Ÿå°±å¾—åˆ°äº†æ‰€è°“â€œ&lt;strong&gt;ä¿¡å·é‡&lt;/strong&gt;â€çš„æœºåˆ¶&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;15
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;16
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;P&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;sem_t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Prolaag - try + decrease/down/wait/acquire
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;mutex_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nf&#34;&gt;cond_wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;--&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// æ¶ˆè€—ä¸€ä¸ªä¿¡å· (è½¦ä½)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;mutex_unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;V&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;sem_t&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Verhoog - increase/up/post/signal/release
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;mutex_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// åˆ›å»ºä¸€ä¸ªä¿¡å· (è½¦ä½)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;cond_broadcast&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nf&#34;&gt;mutex_unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sem&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ ¹æ®è¿™ä¸ªä¸€è·¯æ¨å‡ºä¿¡å·é‡çš„æ€è·¯ï¼Œæˆ–è®¸å¯ä»¥è®¤ä¸ºè¿™æ˜¯äº’æ–¥é”çš„æ‰©å±•&lt;/p&gt;</description>
    </item>
    <item>
      <title>17. å¹¶å‘ Bugs</title>
      <link>https://diefish1024.github.io/posts/nju-os-2025/17-%E5%B9%B6%E5%8F%91-bugs/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/nju-os-2025/17-%E5%B9%B6%E5%8F%91-bugs/</guid>
      <description>&lt;h2 id=&#34;æ•°æ®ç«äº‰&#34;&gt;æ•°æ®ç«äº‰&lt;/h2&gt;
&lt;p&gt;å¤§å¤šå¹¶å‘ bug æœ€åéƒ½ä¼šä½“ç°ä¸º&lt;strong&gt;æ•°æ®ç«äº‰ (Data Race)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å¯¹äºé¡ºåºç¨‹åºè€Œè¨€ï¼Œå‡½æ•° &lt;code&gt;f()&lt;/code&gt; è¿”å›ä¹‹åå°±å·²ç»å®Œæˆäº†æ‰€æœ‰çš„çŠ¶æ€ä¿®æ”¹ï¼Œå¯¹äºå…¶ä»–éƒ¨åˆ†è€Œè¨€è¿™ä¸ªä¿®æ”¹æ˜¯ç«‹å³ç”Ÿæ•ˆçš„ï¼›å¦‚æœå¯¹äºå¹¶å‘ç¨‹åºè€Œè¨€æ¨¡å¼çš„åˆ‡æ¢ä¹Ÿåœ¨ç¬é—´å®Œæˆï¼Œé‚£å°±ä¸ä¼šå¯¼è‡´å¹¶å‘çš„é—®é¢˜&lt;/p&gt;
&lt;p&gt;ç„¶è€Œå®é™…ä¸Šæ¨¡å¼çš„åˆ‡æ¢éœ€è¦æ—¶é—´ï¼Œæ‰§è¡Œçš„æ“ä½œåœ¨æœªæ¥ä¸€æ®µæ—¶é—´ä¹‹åæ‰ä¼šå°±ç»ªï¼Œä½†æ˜¯æˆ‘ä»¬åœ¨å®é™…ç¼–ç¨‹æ—¶æ€»æ˜¯å®¹æ˜“æœ‰â€œç«‹å³ç”Ÿæ•ˆâ€çš„è‚Œè‚‰è®°å¿†ï¼Œè¿™å°±å¯¼è‡´äº†å¹¶å‘é—®é¢˜çš„å¯èƒ½æ€§&lt;/p&gt;
&lt;p&gt;ä¸è¿‡å¯¹äº&lt;strong&gt;å‡½æ•°å¼ç¼–ç¨‹&lt;/strong&gt;è€Œè¨€ï¼Œæ“ä½œä¸å­˜åœ¨å¯¹å¤–çŠ¶æ€çš„ä¿®æ”¹ï¼Œæ²¡æœ‰å‰¯ä½œç”¨ï¼ˆåªä¼šæ“ä½œå±€éƒ¨å˜é‡ï¼‰ï¼Œè¿™å°±ä¸ä¼šå¯¼è‡´å¹¶å‘é—®é¢˜&lt;/p&gt;
&lt;p&gt;Data Race å‘ç”Ÿçš„å®è´¨æ˜¯&lt;strong&gt;ä¸åŒçš„çº¿ç¨‹&lt;/strong&gt;åŒæ—¶è®¿é—®&lt;strong&gt;åŒä¸€å†…å­˜&lt;/strong&gt;ï¼Œå¹¶ä¸”&lt;strong&gt;è‡³å°‘æœ‰ä¸€ä¸ªæ˜¯å†™&lt;/strong&gt;ï¼Œå½¢è±¡çš„ç†è§£å°±æ˜¯ä¸åŒçš„å†…å­˜è®¿é—®åœ¨â€œèµ›è·‘â€ï¼Œè·‘èµ¢çš„æ“ä½œå…ˆæ‰§è¡Œ&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Not that easy&lt;/strong&gt;: è™½ç„¶æˆ‘ä»¬å°†æ•°æ®ç«äº‰å½¢è±¡åœ°æ¯”å–»ä¸ºâ€œèµ›è·‘â€ï¼Œä½†å®é™…ä¸Šï¼Œå“ªä¸€ä¸ªæ“ä½œèƒ½â€œè·‘èµ¢â€å¹¶æ²¡æœ‰æƒ³è±¡ä¸­é‚£ä¹ˆç®€å•å’Œç¡®å®šï¼Œå…¶å¤æ‚æ€§ä¸»è¦ä½“ç°åœ¨ä»¥ä¸‹å‡ ä¸ªæ–¹é¢&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¼±å†…å­˜æ¨¡å‹ (Weak memory model)&lt;/strong&gt;ï¼šåœ¨ç°ä»£å¤„ç†å™¨æ¶æ„ä¸­ï¼Œä¸ºäº†æå‡æ€§èƒ½ï¼Œå¤„ç†å™¨å¯èƒ½ä¼šå¯¹å†…å­˜æ“ä½œè¿›è¡Œé‡æ’åºã€‚è¿™æ„å‘³ç€ï¼Œä¸åŒçš„çº¿ç¨‹æˆ–â€œè§‚å¯Ÿè€…â€åœ¨ä¸åŒæ—¶é—´ç‚¹çœ‹åˆ°å…±äº«å†…å­˜çš„çŠ¶æ€å¯èƒ½æ˜¯ä¸ä¸€è‡´çš„ã€‚ä¸€ä¸ªçº¿ç¨‹å¯¹å†…å­˜çš„å†™å…¥æ“ä½œï¼Œå¯èƒ½ä¸ä¼šç«‹å³å¯¹æ‰€æœ‰å…¶ä»–çº¿ç¨‹å¯è§ï¼Œå¯¼è‡´ä¸åŒçº¿ç¨‹è§‚å¯Ÿåˆ°ä¸åŒçš„ç»“æœã€‚è¿™ç§&lt;strong&gt;å†…å­˜æ¨¡å‹çš„ä¸€è‡´æ€§é—®é¢˜&lt;/strong&gt;ä½¿å¾—ç¡®å®šå“ªä¸ªæ“ä½œâ€œå…ˆå‘ç”Ÿâ€å˜å¾—éå¸¸å›°éš¾ä¸”ä¸ç¡®å®šã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;æœªå®šä¹‰è¡Œä¸º (Undefined Behavior)&lt;/strong&gt;ï¼šä» C++11 æ ‡å‡†å¼€å§‹ï¼Œæ•°æ®ç«äº‰è¢«æ˜ç¡®è§„å®šä¸º&lt;strong&gt;æœªå®šä¹‰è¡Œä¸º&lt;/strong&gt;ã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä½ çš„ç¨‹åºå‘ç”Ÿäº†æ•°æ®ç«äº‰ï¼Œç¼–è¯‘å™¨å¯ä»¥è‡ªç”±åœ°äº§ç”Ÿä»»ä½•è¡Œä¸ºï¼Œæ— è®ºæ˜¯å´©æºƒã€äº§ç”Ÿé”™è¯¯ç»“æœï¼Œè¿˜æ˜¯çœ‹ä¼¼æ­£å¸¸è¿è¡Œä½†ç»“æœä¸å¯é¢„æµ‹ã€‚è¿™ä½¿å¾—æ•°æ®ç«äº‰æˆä¸ºéå¸¸å±é™©ä¸”éš¾ä»¥è°ƒè¯•çš„å¹¶å‘é”™è¯¯ï¼Œå› ä¸ºå®ƒçš„è¡¨ç°å¯èƒ½æ˜¯ä¸ç¡®å®šã€ä¸ç¨³å®šçš„ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å¤šçº¿ç¨‹ä¸å¤šå†…å­˜çš„å¤æ‚äº¤äº’&lt;/strong&gt;ï¼šåœ¨å®é™…çš„å¹¶å‘ç¨‹åºä¸­ï¼Œé€šå¸¸ä¼šæœ‰å¤šä¸ªçº¿ç¨‹åŒæ—¶è®¿é—®å¤šä¸ªå…±äº«å†…å­˜ä½ç½®ã€‚è¿™äº›çº¿ç¨‹å’Œå†…å­˜ä¹‹é—´å­˜åœ¨å¤æ‚çš„è¯»ï¼ˆRï¼‰å†™ï¼ˆWï¼‰äº¤äº’ã€‚ä¸€ä¸ªçº¿ç¨‹å¯¹ä¸€ä¸ªå†…å­˜ä½ç½®çš„å†™å…¥å¯èƒ½å½±å“åˆ°å…¶ä»–å¤šä¸ªçº¿ç¨‹å¯¹è¯¥ä½ç½®çš„è¯»å–ï¼ŒåŒæ—¶ï¼Œå¤šä¸ªå†…å­˜ä½ç½®ä¹‹é—´ä¹Ÿå¯èƒ½å­˜åœ¨å¤æ‚çš„ä¾èµ–å…³ç³»å’Œç¼“å­˜ä¸€è‡´æ€§é—®é¢˜ã€‚è¿™ç§é”™ç»¼å¤æ‚çš„äº¤äº’ç½‘ç»œè¿›ä¸€æ­¥åŠ å‰§äº†æ•°æ®ç«äº‰çš„ä¸å¯é¢„æµ‹æ€§ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ä¸ºäº†æ¶ˆç­æ•°æ®ç«äº‰ï¼Œæˆ‘ä»¬éœ€è¦ä¿è¯ç¨‹åºçš„ serializability ï¼Œ&lt;strong&gt;å¯èƒ½ç«äº‰çš„å†…å­˜è®¿é—®è¦ä¹ˆäº’æ–¥ï¼Œè¦ä¹ˆåŒæ­¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®é™…ç¼–ç¨‹ä¸­é‡åˆ°çš„æ•°æ®ç«äº‰ bug å¤§å¤šå±äº&lt;strong&gt;ä¸Šé”™äº†é”&lt;/strong&gt;å’Œ&lt;strong&gt;å¿˜è®°ä¸Šé”&lt;/strong&gt;ä¸¤ç§æƒ…å†µçš„å˜ç§&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Case 1: ä¸Šé”™äº†é”&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;T_1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;spin_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;spin_unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;T_2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;spin_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;spin_unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;&lt;strong&gt;Case 2: å¿˜è®°ä¸Šé”&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;T_1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;spin_lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;spin_unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;T_2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;++&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;ä½†æ˜¯å®é™…ç³»ç»Ÿé¢ä¸´çš„æƒ…å†µæ¯”è¿™å¤æ‚çš„å¤šï¼Œå› ä¸º&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;å†…å­˜å¯ä»¥æ˜¯åœ°å€ç©ºé—´çš„ä»»ä½•å†…å­˜ï¼Œæ¯”å¦‚å…¨å±€å˜é‡ã€å †å†…å­˜åˆ†é…çš„å˜é‡ã€ç¨‹åºçš„æ ˆâ€¦â€¦&lt;/li&gt;
&lt;li&gt;è®¿é—®å¯ä»¥å‘ç”Ÿåœ¨ä»»ä½•ä»£ç ï¼Œæ¯”å¦‚è‡ªå·±çš„ä»£ç ã€æ¡†æ¶ä»£ç ã€ä¸€è¡Œæ²¡è¯»åˆ°çš„æ±‡ç¼–æŒ‡ä»¤ã€æŸæ¡ ret æŒ‡ä»¤
&lt;ul&gt;
&lt;li&gt;â€œä¸€è¡Œæ²¡è¯»åˆ°çš„æ±‡ç¼–æŒ‡ä»¤â€é€ æˆçš„è®¿é—®çš„æƒ…å†µæœ‰ç¼–è¯‘å™¨ä¼˜åŒ–é€ æˆçš„æŒ‡ä»¤é‡æ’ã€ç¡¬ä»¶å±‚é¢å¼±å†…å­˜æ¨¡å‹çš„å†…å­˜è®¿é—®é‡æ’ã€è¿˜æœ‰ä¸€äº›é«˜å±‚è¯­è¨€æ“ä½œçš„éšå¼å†…å­˜è®¿é—®&lt;/li&gt;
&lt;li&gt;å®é™…ç³»ç»Ÿä¸­è™½ç„¶éš¾ä»¥é¿å…ï¼Œä½†æ˜¯ä¼šå°½å¯èƒ½ä¿è¯åº•å±‚çš„ç»“æ„å¯¹ä¸Šå±‚å°½å¯èƒ½å°é—­æ¥é˜²æ­¢è¿™ç§é”™è¯¯&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æ­»é”&#34;&gt;æ­»é”&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;æ­»é” (Deadlock)&lt;/strong&gt; æ˜¯æŒ‡ä¸€ä¸ªç¾¤ä½“ä¸­çš„æ¯ä¸ªæˆå‘˜éƒ½åœ¨ç­‰å¾…å…¶ä»–æˆå‘˜ï¼ˆåŒ…æ‹¬è‡ªèº«ï¼‰é‡‡å–è¡ŒåŠ¨çš„çŠ¶æ€&lt;/p&gt;
&lt;p&gt;æ­»é”æœ‰ä¸¤ç§ï¼š&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AA-Deadlock&lt;/strong&gt;: è‡ªå·±ç­‰å¾…è‡ªå·±&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nf&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// lk-&amp;gt;locked == âœ…; proceed
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Possibly in interrupt handler
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;&lt;/span&gt;    &lt;span class=&#34;nf&#34;&gt;lock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// while (lk-&amp;gt;locked == âŒ) ;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ ·çš„é”™è¯¯è™½ç„¶çœ‹èµ·æ¥å¾ˆå‚»ï¼Œä½†æ˜¯åœ¨çœŸå®ç¨‹åºå¤æ‚çš„æ§åˆ¶æµä¸­æ˜¯å¯èƒ½å‡ºç°çš„&lt;/p&gt;</description>
    </item>
    <item>
      <title>18. çœŸå®ä¸–ç•Œçš„å¹¶å‘ç¼–ç¨‹ (1)</title>
      <link>https://diefish1024.github.io/posts/nju-os-2025/18-%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B-1/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/nju-os-2025/18-%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B-1/</guid>
      <description>&lt;p&gt;å¹¶å‘ç¼–ç¨‹çš„æ ¸å¿ƒæŠ½è±¡æ˜¯å®ç°ä¸€ä¸ªè®¡ç®—å›¾ï¼Œè®¡ç®—å‘ç”Ÿåœ¨èŠ‚ç‚¹ä¸Šï¼Œè¾¹è¡¨ç¤ºèŠ‚ç‚¹ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼ŒåŒæ—¶è®¡ç®—å›¾åœ¨è¿è¡Œæ—¶å¯èƒ½æ˜¯åŠ¨æ€å˜åŒ–çš„&lt;/p&gt;
&lt;p&gt;ä½¿ç”¨æ¡ä»¶å˜é‡ã€é”ã€ä¿¡å·é‡ç­‰ api å»å®ç°è®¡ç®—å›¾å¹¶ä¸æ˜¯ä¸€ä¸ªä¼˜é›…çš„å®ç°æ–¹å¼ï¼Œå› ä¸ºè¿™æ ·ä¼šåœ¨ä»£ç ä¸­å¼•å…¥ä¼—å¤š&lt;strong&gt;å¹²æ‰°ä»£ç &lt;/strong&gt;ï¼Œä¹Ÿå¯èƒ½å¯¼è‡´ä¸€äº›é—®é¢˜&lt;/p&gt;
&lt;p&gt;ä¸ºæ­¤å¯ä»¥å¢åŠ ä¸€äº›åŠŸèƒ½å—é™çš„&lt;strong&gt;è¯­æ³•&lt;/strong&gt;ï¼Œå¯ä»¥åœ¨åŒæ ·æè¿°è®¡ç®—å›¾çš„åŠŸèƒ½ä¸‹å‡å°‘äº†è®¸å¤šæ½œåœ¨çš„é—®é¢˜&lt;/p&gt;
&lt;h2 id=&#34;é«˜æ€§èƒ½è®¡ç®—ä¸­çš„å¹¶è¡Œç¼–ç¨‹&#34;&gt;é«˜æ€§èƒ½è®¡ç®—ä¸­çš„å¹¶è¡Œç¼–ç¨‹&lt;/h2&gt;
&lt;p&gt;åœ¨é«˜æ€§èƒ½è®¡ç®—ä¸­ï¼Œè®¡ç®—å›¾é€šå¸¸æ˜“äº&lt;strong&gt;é™æ€åˆ‡åˆ†&lt;/strong&gt;ï¼Œå°¤å…¶é€‚ç”¨äºç‰©ç†æ¨¡æ‹Ÿçš„ç½‘æ ¼åˆ’åˆ†ï¼Œä¸ºæ­¤ HPC å‘å±•å‡ºå¤šç§é«˜æ•ˆçš„å¹¶è¡Œç¼–ç¨‹æ¨¡å‹ï¼Œå…·ä½“å­¦ä¹ å¯ä»¥å‚è€ƒ &lt;a href=&#34;https://xflops.sjtu.edu.cn/hpc-start-guide/parallel-computing/basic/&#34;&gt;SJTU HPC å­¦ä¹ æ‰‹å†Œ&lt;/a&gt;&lt;/p&gt;
&lt;h4 id=&#34;mpi-åˆ†å¸ƒå¼å†…å­˜å¹¶è¡Œ&#34;&gt;MPI: åˆ†å¸ƒå¼å†…å­˜å¹¶è¡Œ&lt;/h4&gt;
&lt;p&gt;æ¯ä¸ª MPI è¿›ç¨‹æœ‰ç‹¬ç«‹çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹é—´é€šè¿‡&lt;strong&gt;æ˜¾å¼æ¶ˆæ¯ä¼ é€’&lt;/strong&gt;ï¼ˆå‘é€/æ¥æ”¶ï¼‰äº¤æ¢æ•°æ®&lt;/p&gt;
&lt;h4 id=&#34;openmp-å…±äº«å†…å­˜å¹¶è¡Œ&#34;&gt;OpenMP: å…±äº«å†…å­˜å¹¶è¡Œ&lt;/h4&gt;
&lt;p&gt;å¤šä¸ªçº¿ç¨‹åœ¨åŒä¸€åœ°å€ç©ºé—´ä¸­å¹¶è¡Œæ‰§è¡Œï¼Œæ‰€æœ‰çº¿ç¨‹å¯ä»¥ç›´æ¥è®¿é—®ç›¸åŒçš„æ•°æ®ï¼Œä½¿ç”¨Â &lt;code&gt;#pragma omp&lt;/code&gt;Â æŒ‡ä»¤å®ç°å¹¶è¡ŒåŒ–&lt;/p&gt;
&lt;p&gt;å¯¹éè®¡ç®—æœºä¸“ä¸šæ¥è¯´éå¸¸å‹å¥½ï¼Œåªéœ€è¦åœ¨æ­£å¸¸çš„ä»£ç ä¸Šé¢åŠ ä¸Šç¼–è¯‘æŒ‡ä»¤å³å¯ï¼Œèƒ½è½»æ¾å®ç°é«˜æ•ˆçš„å¹¶è¡Œä¼˜åŒ–&lt;/p&gt;
&lt;h4 id=&#34;cuda-gpu-å¼‚æ„å¹¶è¡Œ&#34;&gt;CUDA: GPU å¼‚æ„å¹¶è¡Œ&lt;/h4&gt;
&lt;p&gt;CPU è°ƒåº¦ï¼ŒGPU æ‰§è¡Œå¤§è§„æ¨¡å¹¶è¡Œè®¡ç®—&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;æ¦‚å¿µ&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;æ ¸å‡½æ•° (Kernel)&lt;/strong&gt; ï¼šåœ¨ GPU ä¸Šå¹¶è¡Œæ‰§è¡Œçš„å‡½æ•°&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;çº¿ç¨‹å±‚æ¬¡&lt;/strong&gt;ï¼šçº¿ç¨‹ (&lt;code&gt;threadIdx&lt;/code&gt;) ç»„æˆçº¿ç¨‹å— (&lt;code&gt;blockIdx&lt;/code&gt;)ï¼Œçº¿ç¨‹å—ç»„æˆç½‘æ ¼ (&lt;code&gt;gridDim&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å†…å­˜å±‚æ¬¡&lt;/strong&gt;ï¼šå¯„å­˜å™¨ã€å…±äº«å†…å­˜ï¼ˆå—å†…é«˜é€Ÿï¼‰ã€å…¨å±€å†…å­˜ï¼ˆæ‰€æœ‰çº¿ç¨‹å¯è®¿é—®ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;æˆ‘ä»¬èº«è¾¹çš„å¹¶å‘ç¼–ç¨‹&#34;&gt;æˆ‘ä»¬èº«è¾¹çš„å¹¶å‘ç¼–ç¨‹&lt;/h2&gt;
&lt;h4 id=&#34;ä»-web-10-åˆ°-web-20&#34;&gt;ä» Web 1.0 åˆ° Web 2.0&lt;/h4&gt;
&lt;p&gt;åœ¨ Web æ—¶ä»£ç”¨çš„æœ€å¹¿æ³›çš„æ˜¯ Javascript&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Asynchronous JavaScript and XML&lt;/strong&gt; (Ajax; ~1999)
&lt;ul&gt;
&lt;li&gt;å…è®¸ç½‘é¡µå®ç°â€œåå°åˆ·æ–°â€&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;jQuery $ (2006): A DOM Query Language&lt;/strong&gt; (ç¼–ç¨‹æŠ½è±¡)&lt;/li&gt;
&lt;/ul&gt;
&lt;h4 id=&#34;web-20-æ—¶ä»£çš„å¹¶å‘ç¼–ç¨‹&#34;&gt;Web 2.0 æ—¶ä»£çš„å¹¶å‘ç¼–ç¨‹&lt;/h4&gt;
&lt;p&gt;çº¿ç¨‹å¼€é”€å¤§ï¼Œå¹¶ä¸”å¤§å¤šæ•° Web å¼€å‘è€…éš¾ä»¥è¿›è¡Œå¹¶å‘ç¼–ç¨‹&lt;/p&gt;</description>
    </item>
    <item>
      <title>19. çœŸå®ä¸–ç•Œçš„å¹¶å‘ç¼–ç¨‹ (2)</title>
      <link>https://diefish1024.github.io/posts/nju-os-2025/19-%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B-2/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/nju-os-2025/19-%E7%9C%9F%E5%AE%9E%E4%B8%96%E7%95%8C%E7%9A%84%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B-2/</guid>
      <description>&lt;h2 id=&#34;cpu-å†…çš„å¹¶è¡Œç¼–ç¨‹&#34;&gt;CPU å†…çš„å¹¶è¡Œç¼–ç¨‹&lt;/h2&gt;
&lt;p&gt;CPU çš„åŠŸè€— $ P=C\cdot V^{2}\cdot f $ å¯¼è‡´çºµä½¿æœ‰æ›´å¤§çš„ç”µè·¯ï¼Œçƒ­åŠŸè€—é™åˆ¶äº†æ€§èƒ½ä¸Šé™ï¼Œä»è€Œæœ‰ä¸€å µâ€œåŠŸè€—å¢™â€é™åˆ¶äº† CPU çš„æ€§èƒ½ï¼Œä¸ºæ­¤éœ€è¦è€ƒè™‘å¦‚ä½•åœ¨é™ä½ $ V $ å’Œ $ f $ çš„åŒæ—¶ç”¨é¢ç§¯æ¢æ€§èƒ½&lt;/p&gt;
&lt;p&gt;æœ‰ä¸¤ä¸ªæ€è·¯ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®©ä¸€æ¡æŒ‡ä»¤èƒ½å¤„ç†æ›´å¤šçš„æ•°æ®&lt;/strong&gt;ï¼šSIMD (Single Instruction, Multiple Data)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;â€œä¸€æ¡æŒ‡ä»¤â€ æµªè´¹çš„èƒ½é‡å¤§è‡´æ˜¯å®šæ•°&lt;/li&gt;
&lt;li&gt;å¤„ç†çš„æ•°æ®è¶Šå¤šï¼Œæµªè´¹è¶Šå°‘&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;ç”¨æ›´å¤šæ›´ç®€å•çš„å¤„ç†å™¨&lt;/strong&gt;ï¼šå¤šå¤„ç†å™¨ç³»ç»Ÿã€å¼‚æ„å¤šå¤„ç†å™¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;åŒç­‰é¢ç§¯ï¼Œå¤„ç†å™¨è¶Šç®€å•ï¼Œæ•°é‡è¶Šå¤š&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;å¼‚æ„è®¡ç®—&lt;/strong&gt;ï¼šæœ€ç»å…¸çš„ä¾‹å­æ˜¯&lt;strong&gt;å¤§å°æ ¸æ¶æ„&lt;/strong&gt;ï¼ˆå¦‚ Apple M1ï¼‰&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&#34;simd&#34;&gt;SIMD&lt;/h3&gt;
&lt;p&gt;SIMD çš„æ ¸å¿ƒæ€æƒ³æ˜¯åœ¨ç¡¬ä»¶å±‚é¢å®ç°æ•°æ®çº§å¹¶è¡Œï¼Œå®ƒé€šè¿‡å¼•å…¥ä¸“é—¨çš„ç¡¬ä»¶å•å…ƒæ¥è¾¾æˆè¿™ä¸ªç›®æ ‡ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å®½ä½å¯„å­˜å™¨ (Wide Registers)&lt;/strong&gt;ï¼šCPU å†…éƒ¨å¢åŠ äº†æ¯”é€šç”¨å¯„å­˜å™¨å®½å¾ˆå¤šçš„ä¸“ç”¨å¯„å­˜å™¨&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Intel çš„ SSE æŒ‡ä»¤é›†å¼•å…¥äº† 128 ä½çš„ XMM å¯„å­˜å™¨ï¼Œè€Œæœ€æ–°çš„ AVX-512 æ‹¥æœ‰ 512 ä½çš„ ZMM å¯„å­˜å™¨&lt;/li&gt;
&lt;li&gt;è¿™äº›å®½ä½å¯„å­˜å™¨å¯ä»¥ä¸€æ¬¡æ€§è£…å…¥å¤šä¸ªæ•°æ®å…ƒç´ ï¼Œæ¯”å¦‚ä¸€ä¸ª 128 ä½çš„å¯„å­˜å™¨å¯ä»¥åŒæ—¶å®¹çº³ 4 ä¸ª 32 ä½çš„æµ®ç‚¹æ•°ï¼Œæˆ–è€… 16 ä¸ª 8 ä½çš„æ•´æ•°&lt;/li&gt;
&lt;li&gt;è¿™äº›è¢«æ‰“åŒ…åœ¨ä¸€èµ·çš„æ•°æ®è¢«ç§°ä¸º Vector&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;å‘é‡å¤„ç†å•å…ƒ (Vector ALU)&lt;/strong&gt;ï¼šCPU å†…éƒ¨ä¹Ÿé…å¤‡äº†èƒ½å¤Ÿå¯¹æ•´ä¸ªå‘é‡è¿›è¡Œå¹¶è¡Œè®¡ç®—çš„ ALU&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
