<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | diefish's blog</title><meta name=keywords content><meta name=description content="Posts - diefish's blog"><meta name=author content="diefish"><link rel=canonical href=https://diefish1024.github.io/posts/><link crossorigin=anonymous href=/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css integrity="sha256-j+ECM6cGvIfy4Is8+XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as=style><link rel=icon href=https://diefish1024.github.io/images/avatar.jpg><link rel=icon type=image/png sizes=16x16 href=https://diefish1024.github.io/images/avatar.jpg><link rel=icon type=image/png sizes=32x32 href=https://diefish1024.github.io/images/avatar.jpg><link rel=apple-touch-icon href=https://diefish1024.github.io/images/avatar.jpg><link rel=mask-icon href=https://diefish1024.github.io/images/avatar.jpg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://diefish1024.github.io/posts/index.xml><link rel=alternate hreflang=en href=https://diefish1024.github.io/posts/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.css integrity=sha384-MlJdn/WNKDGXveldHDdyRP1R4CTHr3FeuDNfhsLPYrq2t0UBkUdK2jyTnXPEK1NQ crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/katex.min.js integrity=sha384-VQ8d8WVFw0yHhCk5E8I86oOhv48xLpnDZx5T9GogA/Y84DcCKWXDmSDfn13bzFZY crossorigin=anonymous></script><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.2/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}]})})</script><meta property="og:url" content="https://diefish1024.github.io/posts/"><meta property="og:site_name" content="diefish's blog"><meta property="og:title" content="Posts"><meta property="og:description" content="A freshman at SJTU John class."><meta property="og:locale" content="zh-cn"><meta property="og:type" content="website"><meta property="og:image" content="https://diefish1024.github.io/images/avatar.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://diefish1024.github.io/images/avatar.jpg"><meta name=twitter:title content="Posts"><meta name=twitter:description content="A freshman at SJTU John class."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://diefish1024.github.io/posts/"}]}</script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://diefish1024.github.io/ accesskey=h title="Home (Alt + H)"><img src=https://diefish1024.github.io/images/avatar.jpg alt aria-label=logo height=35>Home</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://diefish1024.github.io/posts/ title=posts><span class=active>posts</span></a></li><li><a href=https://diefish1024.github.io/tags/ title=tags><span>tags</span></a></li><li><a href=https://diefish1024.github.io/search title="search (Alt + /)" accesskey=/><span>search</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://diefish1024.github.io/>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>15. å¹¶å‘æ§åˆ¶ï¼šåŒæ­¥æ¡ä»¶å˜é‡</h2></header><div class=entry-content><p>åŒæ­¥å’Œæ¡ä»¶å˜é‡ äº’æ–¥å®ç°äº†åŸå­æ€§ï¼Œä½†æ˜¯æ— æ³•å®ç°ç¡®å®šæ€§ï¼Œä¹Ÿå°±æ˜¯æ— æ³•æ­£ç¡®å®ç° â€œhappens-beforeâ€ çš„å…³ç³»
å› æ­¤éœ€è¦å¼•å…¥æ¡ä»¶å˜é‡æ¥å®ç°çº¿ç¨‹çš„åŒæ­¥ï¼Œå½¢æˆå—æ§åˆ¶çš„å¹¶å‘äº‹ä»¶çš„å‘ç”Ÿé¡ºåºï¼ˆå¯ä»¥ç”¨ä¹å›¢æŒ‡æŒ¥æ¥ç±»æ¯”ï¼‰ï¼ŒæŠŠä¸€ç³»åˆ—ä¸ç¡®å®šçš„çŠ¶æ€åœ¨æŸä¸€ä¸ªæ—¶é—´ç‚¹åŒæ­¥åˆ°äº†ä¸€ä¸ªç¡®å®šçš„çŠ¶æ€ï¼Œå°†å‘æ•£çš„å¹¶å‘ç¨‹åºçŠ¶æ€ â€œæ”¶æŸâ€
å®ç°åŒæ­¥
å®ç° $ A\to B $ï¼š
1 2 3 4 5 6 7 A; can_proceed = true; (signal) while(!can_proceed); B // B: wait until the condition is satisfied è¿™æ ·çš„æ€è·¯å¤§è‡´æ­£ç¡®ï¼Œä½†æ˜¯è‡ªé€‰çš„å¾ªç¯æœ‰å¾ˆå¤§çš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªæ›´åŠ åº•å±‚çš„æœºåˆ¶æ¥å¸®åŠ©å®ç°è¿™ä¸€ç‚¹
æœ€ç†æƒ³çš„ API æ˜¯ wait_until(cond) ï¼Œä½†æ˜¯è¿‡å»ä¸ºäº†ç®€åŒ–è®¾è®¡ï¼Œå˜æˆäº†
æ¡ä»¶ä¸æ»¡è¶³æ—¶ç­‰å¾…ï¼šwait - ç›´æ¥ç¡çœ ç­‰å¾… æ¡ä»¶æ»¡è¶³æ—¶ç»§ç»­ï¼šsignal/broadcast - å”¤é†’æ‰€æœ‰çº¿ç¨‹ ï¼ˆå°æ—¶å€™çš„ scratch ç¼–ç¨‹å…¶å®å·²ç»æœ‰äº†è¿™æ ·çš„æ€æƒ³ğŸ˜‚ï¼‰
åœ¨ c++ ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥æŠŠæ¡ä»¶æ”¾åˆ° $ \lambda $ è¡¨è¾¾å¼ä¸­ï¼š
1 2 3 4 5 6 7 8 9 10 11 12 std::mutex mtx; std::condition_variable cv; void T_player() { std::unique_lock lk(mtx); cv.wait(lk, []{ return can_proceed; } ); cv.notify_all(); lk.unlock(); } æ³¨æ„æ¡ä»¶å˜é‡åœ¨ç­‰å¾…æ—¶éœ€è¦å¸¦ç€ä¸€æŠŠé”ï¼ˆéœ€è¦ç¡®ä¿æ£€æŸ¥å’Œç­‰å¾…æ˜¯åŸå­æ“ä½œï¼‰
...</p></div><footer class=entry-footer>2 min&nbsp;Â·&nbsp;diefish</footer><a class=entry-link aria-label="post link to 15. å¹¶å‘æ§åˆ¶ï¼šåŒæ­¥æ¡ä»¶å˜é‡" href=https://diefish1024.github.io/posts/nju-os-2025/15-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>16. å¹¶å‘æ§åˆ¶ï¼šåŒæ­¥ä¿¡å·é‡</h2></header><div class=entry-content><p>ä¿¡å·é‡ äº’æ–¥é”åœ¨æŸç§æ„ä¹‰ä¸Šä¹Ÿå¯ä»¥è®¤ä¸ºå®ç°äº† â€œhappens-beforeâ€ çš„ä¾èµ–å…³ç³»â€”â€” release å¿…ç„¶å‘ç”Ÿåœ¨ acquire ä¹‹å‰ã€‚æˆ‘ä»¬å¯ä»¥è¯•ç€åˆ©ç”¨è¿™ç§ä¾èµ–å…³ç³»æ¥å®ç°è®¡ç®—å›¾çš„è°ƒåº¦ï¼šä¸ºæ¯æ¡è¾¹åˆ†é…ä¸€ä¸ªäº’æ–¥é”ï¼Œä»£è¡¨æ•°æ®æˆ–å‰ç½®ä»»åŠ¡çš„å®Œæˆï¼›ä¸€ä¸ªèŠ‚ç‚¹å¿…é¡»è·å¾—æ‰€æœ‰å…¥è¾¹å¯¹åº”çš„äº’æ–¥é”æ‰èƒ½å¼€å§‹è®¡ç®—ï¼Œè®¡ç®—å®Œæˆåï¼Œå°±é‡Šæ”¾æ‰€æœ‰å‡ºè¾¹å¯¹åº”çš„äº’æ–¥é”ï¼Œé€šçŸ¥ä¸‹æ¸¸èŠ‚ç‚¹è¾“å‡ºå°±ç»ªï¼ˆä½†æ˜¯è¿™ç§ç›´æ¥ä½¿ç”¨äº’æ–¥é”ä½œä¸ºè¾¹çŠ¶æ€ä¿¡å·çš„æ–¹å¼æ˜¯ undefined behaviorï¼Œå› ä¸ºäº’æ–¥é”ä¸»è¦ç”¨äºä¿æŠ¤ä¸´ç•ŒåŒºï¼Œå…¶é‡Šæ”¾é€šå¸¸è¦æ±‚ç”±æŒæœ‰å®ƒçš„çº¿ç¨‹å®Œæˆï¼Œè‹¥é‡Šæ”¾æœªæ›¾è·å–çš„é”ï¼Œåˆ™è¡Œä¸ºæœªå®šä¹‰ï¼‰
æˆ‘ä»¬å¯ä»¥ä»è¿™ç§æƒ³æ³•ä¸­æŠ½è±¡å‡ºå…¶æœ¬è´¨ï¼Œä¹Ÿå°±æ˜¯ç”¨ä¸€ä¸ªâ€œä¿¡å·â€å»è·å–èµ„æºçš„è®¸å¯ï¼Œç±»ä¼¼é¤å…çš„å–å·åƒé¥­
è¿™ç§ä¿¡å·çš„æ€æƒ³å¾ˆé€‚åˆç”¨æ¥ç®¡ç†è®¡æ•°ç±»å‹çš„åŒç±»èµ„æºï¼Œæ¯”å¦‚åœè½¦åœºçš„ç©ºä½ï¼Œä¸ºäº†å®ç°è¿™ç§ producer-customer çš„é—®é¢˜ï¼Œç”¨ æ¡ä»¶å˜é‡ å¯ä»¥è½»æ˜“è§£å†³ï¼Œè¿›å…¥çš„æ¡ä»¶å°±æ˜¯å­˜åœ¨ç©ºä½ count &lt; capacity ï¼Œé‚£æˆ‘ä»¬ä»å‡å°‘å˜é‡çš„è§’åº¦å‡ºå‘ï¼Œè¿™å®é™…ä¸Šä¹Ÿå°±æ˜¯å‰©ä½™ç©ºä½çš„æ•°é‡å¤§äºé›¶ï¼Œæˆ‘ä»¬åœè½¦ç›¸å½“äºæ¶ˆè€—äº†ä¸€ä¸ªè½¦ä½ï¼Œç¦»å¼€ç›¸å½“äºåˆ›é€ äº†ä¸€ä¸ªè½¦ä½ï¼Œè¿™ä¹Ÿå°±å¾—åˆ°äº†æ‰€è°“â€œä¿¡å·é‡â€çš„æœºåˆ¶
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 void P(sem_t *sem) { // Prolaag - try + decrease/down/wait/acquire mutex_lock(&amp;sem->lk); while (!(sem->count > 0)) { cond_wait(&amp;sem->cv, &amp;sem->lk); } sem->count--; // æ¶ˆè€—ä¸€ä¸ªä¿¡å· (è½¦ä½) mutex_unlock(&amp;sem->lk); } void V(sem_t *sem) { // Verhoog - increase/up/post/signal/release mutex_lock(&amp;sem->lk); sem->count++; // åˆ›å»ºä¸€ä¸ªä¿¡å· (è½¦ä½) cond_broadcast(&amp;sem->cv); mutex_unlock(&amp;sem->lk); } æ ¹æ®è¿™ä¸ªä¸€è·¯æ¨å‡ºä¿¡å·é‡çš„æ€è·¯ï¼Œæˆ–è®¸å¯ä»¥è®¤ä¸ºè¿™æ˜¯äº’æ–¥é”çš„æ‰©å±•
...</p></div><footer class=entry-footer>1 min&nbsp;Â·&nbsp;diefish</footer><a class=entry-link aria-label="post link to 16. å¹¶å‘æ§åˆ¶ï¼šåŒæ­¥ä¿¡å·é‡" href=https://diefish1024.github.io/posts/nju-os-2025/16-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5%E4%BF%A1%E5%8F%B7%E9%87%8F/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>Benchmarking TTA</h2></header><div class=entry-content><p>A General Paradigm of Test-Time Adaptation æ ¹æ®æµ‹è¯•æ•°æ®æ¥æ”¶æ–¹å¼å’Œé€‚åº”è¿‡ç¨‹ï¼ŒTTA åˆ†ä¸ºä¸‰ç§ä¸»è¦èŒƒå¼ï¼š
Test-Time Batch Adaptation (TTBA) æµ‹è¯•æ—¶é—´æ‰¹æ¬¡é€‚åº”ï¼š æ•°æ®ä»¥å°æ‰¹æ¬¡å½¢å¼åˆ°è¾¾ã€‚æ¨¡å‹ä¼šé’ˆå¯¹æ¯ä¸ªåˆ°æ¥çš„å°æ‰¹æ¬¡è¿›è¡Œé€‚åº”ï¼Œå¹¶ç«‹å³æä¾›é¢„æµ‹ã€‚ Online Test-Time Adaptation (OTTA) åœ¨çº¿æµ‹è¯•æ—¶é—´é€‚åº”ï¼š æ•°æ®ä»¥åºåˆ—åŒ–çš„æ–¹å¼ï¼ˆå°æ‰¹æ¬¡ï¼‰åˆ°è¾¾ã€‚æ¨¡å‹è¿›è¡Œå¢é‡æ›´æ–°ï¼Œå¹¶ä¸”è¿‡å»çš„é€‚åº”ç»éªŒä¼šå½±å“æœªæ¥çš„é¢„æµ‹ã€‚ Test-Time Domain Adaptation (TTDA) æµ‹è¯•æ—¶é—´åŸŸé€‚åº”ï¼š æ•´ä¸ªç›®æ ‡åŸŸçš„æ•°æ®ï¼ˆæ‰€æœ‰æµ‹è¯•æ•°æ®ï¼‰å¯åœ¨é¢„æµ‹å‰ä¸€æ¬¡æ€§ç”¨äºé€‚åº”ã€‚ Datasets for Evaluation è®ºæ–‡ä½¿ç”¨äº†ä¸¤ç§ä¸åŒç±»å‹çš„åˆ†å¸ƒåç§»æ•°æ®é›†è¿›è¡Œè¯„ä¼°ï¼š
Corruption Datasets æŸåæ•°æ®é›†ï¼š åŸå§‹æ•°æ®é›†ï¼ˆCIFAR-10ï¼ŒImageNetï¼‰ç»è¿‡äººä¸ºæŸåå¤„ç†åå¾—åˆ°çš„ï¼Œé€šè¿‡æ·»åŠ ä¸åŒç±»å‹çš„å™ªå£°ã€æ¨¡ç³Šç­‰ï¼Œæ¨¡æ‹Ÿä¸åŒä¸¥é‡ç¨‹åº¦çš„åˆ†å¸ƒåç§»ã€‚ Natural-shift Datasets è‡ªç„¶åç§»æ•°æ®é›†ï¼š è¿™äº›æ•°æ®é›†ä»£è¡¨æ•°æ®åˆ†å¸ƒä¸­è‡ªç„¶å‘ç”Ÿçš„å˜åŒ–ï¼Œæ”¶é›†è‡ªä¸åŒçš„çœŸå®ä¸–ç•Œæ¥æºæˆ–æ¡ä»¶ï¼ˆOffice-Homeï¼ŒDomainNetï¼Œå…¶ä¸­å›¾åƒå¯èƒ½æ˜¯ä¸åŒé£æ ¼çš„è‰ºæœ¯ä½œå“ã€å‰ªè´´ç”»ã€çœŸå®ä¸–ç•Œç…§ç‰‡æˆ–è‰å›¾ï¼‰ã€‚ Results on Natural Shift Datasets TTA æ–¹æ³•åœ¨è‡ªç„¶åç§»æ•°æ®é›†ä¸Šçš„è¡¨ç°ä¸åœ¨æŸåæ•°æ®é›†ä¸Šçš„è¡¨ç°æœ‰æ‰€ä¸åŒã€‚ PredBN åœ¨æŸåæ•°æ®é›†ä¸Šæœ‰æ•ˆï¼Œä½†åœ¨è‡ªç„¶åç§»æ•°æ®é›†ä¸Šè¡¨ç°ä¸ä½³ï¼Œæœ‰æ—¶ç”šè‡³æ¯”æºæ¨¡å‹æ›´å·®ã€‚è¿™å¯èƒ½æ˜¯å› ä¸ºè‡ªç„¶åç§»å¯¹æ•°æ®åˆ†å¸ƒçš„å½±å“ä¸äººå·¥æŸåä¸åŒã€‚ T3A åœ¨ OTTA èŒƒå¼ä¸‹çš„è‡ªç„¶åç§»æ•°æ®é›†ä¸Šè¡¨ç°ä¼˜äºå…¶ä»– OTTA ç®—æ³•ã€‚è¿™å½’å› äºå…¶ç‰¹å¾ç”Ÿæˆæ–¹å¼åŠå…¶åˆ†ç±»å™¨ä¼˜åŒ–èƒ½åŠ›ã€‚ å¯¹äºè‡ªç„¶åç§»æ•°æ®é›†ï¼ŒTTDA ç®—æ³• æŒç»­å–å¾—äº†æœ€é«˜çš„æ€§èƒ½ã€‚ä¸€äº› OTTA æ–¹æ³•çš„å¤šè½®æ¬¡ä¹Ÿèƒ½è¾¾åˆ°å¯æ¯”çš„æˆæœã€‚</p></div><footer class=entry-footer>1 min&nbsp;Â·&nbsp;diefish</footer><a class=entry-link aria-label="post link to Benchmarking TTA" href=https://diefish1024.github.io/posts/literature-notes/benchmarking-tta/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>CoTTA</h2></header><div class=entry-content><p>Setting Continual Test-Time Domain Adaptation æ˜¯ä¸€ç§æ›´å…·æŒ‘æˆ˜æ€§çš„æ¨¡å‹é€‚åº”è®¾å®šã€‚åœ¨æ­¤è®¾å®šä¸‹ï¼Œä¸€ä¸ªåœ¨æºæ•°æ®ä¸Šé¢„è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œåœ¨æµ‹è¯•æ—¶ä¼šé‡åˆ°ä¸€ä¸ªéå¹³ç¨³ä¸”æŒç»­å˜åŒ–çš„ç›®æ ‡ç¯å¢ƒ ã€‚
CoTTA ä¸ä»¥ä¸‹æ–¹æ³•ä¸åŒï¼š
Standard Domain Adaptationï¼šéœ€è¦åŒæ—¶è®¿é—®æºæ•°æ®å’Œï¼ˆé™æ€çš„ï¼‰ç›®æ ‡æ•°æ®è¿›è¡Œè®­ç»ƒã€‚ Standard Test-Time Adaptation / Fully Test-Time Adaptationï¼šé€šå¸¸å‡è®¾ç›®æ ‡åŸŸæ˜¯å›ºå®šçš„æˆ–é™æ€çš„ï¼Œè€Œ CoTTA å…³æ³¨çš„æ˜¯æŒç»­å˜åŒ–çš„ç›®æ ‡åŸŸã€‚ Test-Time Training (TTT)ï¼šéœ€è¦ä¿®æ”¹æºæ¨¡å‹çš„è®­ç»ƒè¿‡ç¨‹ä»¥åŠ å…¥è¾…åŠ©ä»»åŠ¡ï¼Œå› æ­¤æ— æ³•ä½¿ç”¨ä»»æ„çš„â€œå¼€ç®±å³ç”¨â€é¢„è®­ç»ƒæ¨¡å‹ã€‚ ç›¸æ¯”ä¹‹ä¸‹ï¼ŒCoTTA ä¸“é—¨è§£å†³åœ¨æ— æºæ•°æ®çš„æ¡ä»¶ä¸‹ï¼Œæ¨¡å‹å¦‚ä½•åœ¨çº¿é€‚åº”ä¸€ä¸ªæŒç»­å˜åŒ–çš„æ•°æ®æµï¼ŒåŒæ—¶å…‹æœç°æœ‰æ–¹æ³•ä¸­å¸¸è§çš„é”™è¯¯ç´¯ç§¯å’Œç¾éš¾æ€§é—å¿˜é—®é¢˜ã€‚
Method è®ºæ–‡çš„æ ¸å¿ƒè´¡çŒ®æ˜¯æå‡ºäº†CoTTA (Continual Test-Time Adaptation) æ–¹æ³•ï¼Œæ—¨åœ¨é€šè¿‡å‡å°‘é”™è¯¯ç´¯ç§¯å’Œé¿å…ç¾éš¾æ€§é—å¿˜ï¼Œå®ç°æ¨¡å‹åœ¨éå¹³ç¨³ç¯å¢ƒä¸‹çš„é•¿æœŸç¨³å®šé€‚åº”ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªå…³é”®éƒ¨åˆ†ã€‚
1. å‡å°‘é”™è¯¯ç´¯ç§¯ (Reducing Error Accumulation) ä¸ºäº†ç”Ÿæˆæ›´å¯é çš„è‡ªè®­ç»ƒä¿¡å·ï¼ŒCoTTA é‡‡ç”¨äº†å¹³å‡åŒ–çš„ä¼ªæ ‡ç­¾ç­–ç•¥ï¼Œè¯¥ç­–ç•¥ç»“åˆäº†æƒé‡å¹³å‡å’Œæ•°æ®å¢å¼ºå¹³å‡ã€‚
æƒé‡å¹³å‡ä¼ªæ ‡ç­¾ (Weight-Averaged Pseudo-Labels) è¯¥æ–¹æ³•é‡‡ç”¨ä¸€ä¸ªæ•™å¸ˆ - å­¦ç”Ÿ (teacher-student) æ¡†æ¶ã€‚å­¦ç”Ÿæ¨¡å‹ (student model) åœ¨çº¿è¿›è¡Œå­¦ä¹ å’Œæ›´æ–°ã€‚ æ•™å¸ˆæ¨¡å‹ (teacher model) çš„æƒé‡æ˜¯å­¦ç”Ÿæ¨¡å‹æƒé‡çš„æŒ‡æ•°ç§»åŠ¨å¹³å‡ (Exponential Moving Average, EMA)ã€‚ ç”±äºæ•™å¸ˆæ¨¡å‹çš„æ›´æ–°æ›´å¹³æ»‘ï¼Œå…¶é¢„æµ‹ç»“æœé€šå¸¸æ¯”å­¦ç”Ÿæ¨¡å‹æ›´å‡†ç¡®ï¼Œå› æ­¤ç”¨å®ƒæ¥ç”Ÿæˆä¼ªæ ‡ç­¾ï¼Œå¯ä»¥æœ‰æ•ˆå‡å°‘é”™è¯¯ç´¯ç§¯ã€‚å­¦ç”Ÿæ¨¡å‹é€šè¿‡æœ€å°åŒ–ä¸æ•™å¸ˆä¼ªæ ‡ç­¾çš„ä¸€è‡´æ€§æŸå¤± (consistency loss) æ¥è¿›è¡Œæ›´æ–°ã€‚ æ•°æ®å¢å¼ºå¹³å‡ä¼ªæ ‡ç­¾ (Augmentation-Averaged Pseudo-Labels) ä¸ºäº†è¿›ä¸€æ­¥æå‡ä¼ªæ ‡ç­¾åœ¨é‡åˆ°è¾ƒå¤§åŸŸåç§»æ—¶çš„è´¨é‡ï¼ŒCoTTA ä¼šæœ‰æ¡ä»¶åœ°ä½¿ç”¨æ•°æ®å¢å¼ºã€‚ å®ƒé¦–å…ˆä½¿ç”¨åŸå§‹é¢„è®­ç»ƒæ¨¡å‹è¯„ä¼°å½“å‰æµ‹è¯•æ•°æ®çš„é¢„æµ‹ç½®ä¿¡åº¦ï¼Œä»¥æ­¤æ¥è¿‘ä¼¼åŸŸå·®å¼‚çš„å¤§å°ã€‚ æ¡ä»¶æ€§åº”ç”¨ï¼š å¦‚æœç½®ä¿¡åº¦é«˜ï¼ˆåŸŸå·®å¼‚å°ï¼‰ï¼Œåˆ™ç›´æ¥ä½¿ç”¨æ•™å¸ˆæ¨¡å‹çš„é¢„æµ‹ä½œä¸ºä¼ªæ ‡ç­¾ 16ã€‚ å¦‚æœç½®ä¿¡åº¦ä½ï¼ˆåŸŸå·®å¼‚å¤§ï¼‰ï¼Œåˆ™å¯¹è¾“å…¥æ•°æ®è¿›è¡Œ N æ¬¡éšæœºå¢å¼ºï¼Œå¹¶å°†æ•™å¸ˆæ¨¡å‹å¯¹è¿™äº›å¢å¼ºæ ·æœ¬çš„å¹³å‡é¢„æµ‹ç»“æœä½œä¸ºä¼ªæ ‡ç­¾ 17171717ã€‚è¿™å¯ä»¥è¿›ä¸€æ­¥æé«˜ä¼ªæ ‡ç­¾çš„é²æ£’æ€§ã€‚ 2. é¿å…ç¾éš¾æ€§é—å¿˜ (Avoiding Catastrophic Forgetting) ä¸ºäº†åœ¨é•¿æœŸé€‚åº”è¿‡ç¨‹ä¸­ä¿ç•™ä»æºåŸŸå­¦åˆ°çš„çŸ¥è¯†ï¼ŒCoTTA å¼•å…¥äº†éšæœºæ¢å¤ (Stochastic Restoration) æœºåˆ¶ã€‚
...</p></div><footer class=entry-footer>2 min&nbsp;Â·&nbsp;diefish</footer><a class=entry-link aria-label="post link to CoTTA" href=https://diefish1024.github.io/posts/literature-notes/cotta/></a></article><article class=post-entry><header class=entry-header><h2 class=entry-hint-parent>DANN</h2></header><div class=entry-content><p>Introduction ç±»ä¼¼ GAN çš„å¯¹æŠ—è®­ç»ƒæ€æƒ³
Domain Adaptation ç»™å®šæºåŸŸ $ D_{S} $ ï¼ˆæœ‰æ ‡ç­¾ï¼‰å’Œç›®æ ‡åŸŸ $ D_{T} $ ï¼ˆæ— æ ‡ç­¾ï¼‰ï¼Œç›®æ ‡æ˜¯è®­ç»ƒä¸€ä¸ªåˆ†ç±»å™¨ $ \eta: X\to Y $ ä½¿å…¶åœ¨ç›®æ ‡åŸŸä¸Šçš„ç›®æ ‡é£é™© $$ R_{D_{T}}(\eta) = \underset{(\mathbf{x},y)\sim D_{T}}{\mathrm{Pr}}(\eta(\mathbf{x}) \neq y) $$ æœ€å°
Domain Divergence éœ€è¦é‡åŒ–ä¸¤ä¸ªé¢†åŸŸçš„â€œç›¸ä¼¼åº¦â€ï¼Œä»è€Œå¼•å‡ºäº† H- æ•£åº¦ çš„æ¦‚å¿µï¼š $$ d_{\mathcal{H}}(D_S, D_T) = 2 \sup_{\eta \in \mathcal{H}} \left| \Pr_{x \sim D_S}[\eta(x) = 1] - \Pr_{x \sim D_T}[\eta(x) = 1] \right| $$ å«ä¹‰æ˜¯æœ€ä¼˜çš„åˆ†ç±»å™¨å°†ç›®æ ‡åŸŸå’ŒæºåŸŸåˆ¤å®šä¸º 1 çš„å¯èƒ½æ€§ä¹‹å·®ï¼Œå½“ H- æ•£åº¦éå¸¸å°æ—¶ï¼Œè¯´æ˜ä¸¤ä¸ªé¢†åŸŸå¾ˆéš¾è¢«åŒºåˆ†ï¼Œä¹Ÿå°±è¯´æ˜å­¦ä¹ çš„ç‰¹å¾å®ç°äº†é¢†åŸŸä¸å˜æ€§çš„æ•ˆæœ
ç”±äºç†è®º H æ•£åº¦æ˜¯ç†æƒ³æ•°æ®åˆ†å¸ƒä¸Šçš„å®šä¹‰ï¼Œå®é™…ä¸­åªæœ‰æœ‰é™çš„æ ·æœ¬é›† $ S $ å’Œ $ T $ ï¼Œå› æ­¤éœ€è¦ä¸€å®šçš„è¿‘ä¼¼ï¼Œäºæ˜¯éœ€è¦ç»éªŒ H- æ•£åº¦ $$ \hat{d}_{\mathcal{H}}(S, T) = 2 \left(1 - \min_{\eta \in \mathcal{H}} \left[ \dfrac{1}{n}\sum_{i=1}^n \mathcal{I}[\eta(x_i) = 0] + \dfrac{1}{n'}\sum_{i=n+1}^N \mathcal{I}[\eta(x_i) = 1] \right] \right) $$ å…¶ä¸­ $ \mathcal{I}[\cdot] $ è¡¨ç¤ºæ¡ä»¶ä¸ºçœŸæ—¶ä¸º 1ï¼Œå¦åˆ™ä¸º 0
...</p></div><footer class=entry-footer>2 min&nbsp;Â·&nbsp;diefish</footer><a class=entry-link aria-label="post link to DANN" href=https://diefish1024.github.io/posts/literature-notes/dann/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://diefish1024.github.io/posts/page/2/>Next&nbsp;&nbsp;Â»</a></nav></footer></main><footer class=footer><span>&copy; 2025 <a href=https://diefish1024.github.io/>diefish's blog</a></span> Â·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>