<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Posts on diefish&#39;s blog</title>
    <link>https://diefish1024.github.io/posts/</link>
    <description>Recent content in Posts on diefish&#39;s blog</description>
    <image>
      <title>diefish&#39;s blog</title>
      <url>https://diefish1024.github.io/images/avatar.jpg</url>
      <link>https://diefish1024.github.io/images/avatar.jpg</link>
    </image>
    <generator>Hugo -- 0.148.2</generator>
    <language>zh-cn</language>
    <atom:link href="https://diefish1024.github.io/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>15. å¹¶å‘æ§åˆ¶ï¼šåŒæ­¥æ¡ä»¶å˜é‡</title>
      <link>https://diefish1024.github.io/posts/nju-os-2025/15-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/nju-os-2025/15-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5%E6%9D%A1%E4%BB%B6%E5%8F%98%E9%87%8F/</guid>
      <description>&lt;h2 id=&#34;åŒæ­¥å’Œæ¡ä»¶å˜é‡&#34;&gt;åŒæ­¥å’Œæ¡ä»¶å˜é‡&lt;/h2&gt;
&lt;p&gt;äº’æ–¥å®ç°äº†&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;ï¼Œä½†æ˜¯æ— æ³•å®ç°&lt;strong&gt;ç¡®å®šæ€§&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯æ— æ³•æ­£ç¡®å®ç° &amp;ldquo;happens-before&amp;rdquo; çš„å…³ç³»&lt;/p&gt;
&lt;p&gt;å› æ­¤éœ€è¦å¼•å…¥æ¡ä»¶å˜é‡æ¥å®ç°çº¿ç¨‹çš„åŒæ­¥ï¼Œå½¢æˆå—æ§åˆ¶çš„å¹¶å‘äº‹ä»¶çš„&lt;strong&gt;å‘ç”Ÿé¡ºåº&lt;/strong&gt;ï¼ˆå¯ä»¥ç”¨ä¹å›¢æŒ‡æŒ¥æ¥ç±»æ¯”ï¼‰ï¼ŒæŠŠä¸€ç³»åˆ—ä¸ç¡®å®šçš„çŠ¶æ€åœ¨æŸä¸€ä¸ªæ—¶é—´ç‚¹åŒæ­¥åˆ°äº†ä¸€ä¸ªç¡®å®šçš„çŠ¶æ€ï¼Œå°†å‘æ•£çš„å¹¶å‘ç¨‹åºçŠ¶æ€ â€œæ”¶æŸâ€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ç°åŒæ­¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ç° $A\to B$ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;until&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;condition&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;satisfied&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ ·çš„æ€è·¯å¤§è‡´æ­£ç¡®ï¼Œä½†æ˜¯è‡ªé€‰çš„å¾ªç¯æœ‰å¾ˆå¤§çš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªæ›´åŠ åº•å±‚çš„æœºåˆ¶æ¥å¸®åŠ©å®ç°è¿™ä¸€ç‚¹&lt;/p&gt;
&lt;p&gt;æœ€ç†æƒ³çš„ API æ˜¯ &lt;code&gt;wait_until(cond)&lt;/code&gt; ï¼Œä½†æ˜¯è¿‡å»ä¸ºäº†ç®€åŒ–è®¾è®¡ï¼Œå˜æˆäº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¡ä»¶ä¸æ»¡è¶³æ—¶ç­‰å¾…ï¼š&lt;code&gt;wait&lt;/code&gt; - ç›´æ¥ç¡çœ ç­‰å¾…&lt;/li&gt;
&lt;li&gt;æ¡ä»¶æ»¡è¶³æ—¶ç»§ç»­ï¼š&lt;code&gt;signal/broadcast&lt;/code&gt; - å”¤é†’æ‰€æœ‰çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆå°æ—¶å€™çš„ scratch ç¼–ç¨‹å…¶å®å·²ç»æœ‰äº†è¿™æ ·çš„æ€æƒ³ğŸ˜‚ï¼‰&lt;/p&gt;
&lt;p&gt;åœ¨ c++ ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥æŠŠæ¡ä»¶æ”¾åˆ° $\lambda$ è¡¨è¾¾å¼ä¸­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mtx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;condition_variable&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;T_player&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unique_lock&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mtx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;[]{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;notify_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ³¨æ„æ¡ä»¶å˜é‡åœ¨ç­‰å¾…æ—¶éœ€è¦å¸¦ç€ä¸€æŠŠé”ï¼ˆéœ€è¦ç¡®ä¿æ£€æŸ¥å’Œç­‰å¾…æ˜¯åŸå­æ“ä½œï¼‰&lt;/p&gt;</description>
    </item>
    <item>
      <title>DANN</title>
      <link>https://diefish1024.github.io/posts/literature-notes/dann/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/literature-notes/dann/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;ç±»ä¼¼ GAN çš„å¯¹æŠ—è®­ç»ƒæ€æƒ³&lt;/p&gt;
&lt;h2 id=&#34;domain-adaptation&#34;&gt;Domain Adaptation&lt;/h2&gt;
&lt;p&gt;ç»™å®šæºåŸŸ $D\&lt;em&gt;{S}$ ï¼ˆæœ‰æ ‡ç­¾ï¼‰å’Œç›®æ ‡åŸŸ $D\&lt;/em&gt;{T}$ ï¼ˆæ— æ ‡ç­¾ï¼‰ï¼Œç›®æ ‡æ˜¯è®­ç»ƒä¸€ä¸ªåˆ†ç±»å™¨ $\eta: X\to Y$ ä½¿å…¶åœ¨ç›®æ ‡åŸŸä¸Šçš„ç›®æ ‡é£é™©
$$
R\&lt;em&gt;{D\&lt;/em&gt;{T}}(\eta) = \underset{(\mathbf{x},y)\sim D\_{T}}{\mathrm{Pr}}(\eta(\mathbf{x}) \neq y)
$$
æœ€å°&lt;/p&gt;
&lt;h4 id=&#34;domain-divergence&#34;&gt;Domain Divergence&lt;/h4&gt;
&lt;p&gt;éœ€è¦é‡åŒ–ä¸¤ä¸ªé¢†åŸŸçš„â€œç›¸ä¼¼åº¦â€ï¼Œä»è€Œå¼•å‡ºäº† &lt;strong&gt;H- æ•£åº¦&lt;/strong&gt; çš„æ¦‚å¿µï¼š
$$
d\_{\mathcal{H}}(D\&lt;em&gt;S, D\&lt;em&gt;T) = 2 \sup\&lt;/em&gt;{\eta \in \mathcal{H}} \left| \Pr\&lt;/em&gt;{x \sim D\&lt;em&gt;S}[\eta(x) = 1] - \Pr\&lt;/em&gt;{x \sim D\_T}[\eta(x) = 1] \right|
$$
å«ä¹‰æ˜¯æœ€ä¼˜çš„åˆ†ç±»å™¨å°†ç›®æ ‡åŸŸå’ŒæºåŸŸåˆ¤å®šä¸º 1 çš„å¯èƒ½æ€§ä¹‹å·®ï¼Œå½“ H- æ•£åº¦éå¸¸å°æ—¶ï¼Œè¯´æ˜ä¸¤ä¸ªé¢†åŸŸå¾ˆéš¾è¢«åŒºåˆ†ï¼Œä¹Ÿå°±è¯´æ˜å­¦ä¹ çš„ç‰¹å¾å®ç°äº†é¢†åŸŸä¸å˜æ€§çš„æ•ˆæœ&lt;/p&gt;
&lt;p&gt;ç”±äºç†è®º H æ•£åº¦æ˜¯ç†æƒ³æ•°æ®åˆ†å¸ƒä¸Šçš„å®šä¹‰ï¼Œå®é™…ä¸­åªæœ‰æœ‰é™çš„æ ·æœ¬é›† $S$ å’Œ $T$ ï¼Œå› æ­¤éœ€è¦ä¸€å®šçš„è¿‘ä¼¼ï¼Œäºæ˜¯éœ€è¦ç»éªŒ H- æ•£åº¦
$$
\hat{d}\&lt;em&gt;{\mathcal{H}}(S, T) = 2 \left(1 - \min\&lt;/em&gt;{\eta \in \mathcal{H}} \left[ \dfrac{1}{n}\sum\_{i=1}^n \mathcal{I}[\eta(x\&lt;em&gt;i) = 0] + \dfrac{1}{n&amp;rsquo;}\sum\&lt;/em&gt;{i=n+1}^N \mathcal{I}[\eta(x\_i) = 1] \right] \right)
$$
å…¶ä¸­ $\mathcal{I}[\cdot]$ è¡¨ç¤ºæ¡ä»¶ä¸ºçœŸæ—¶ä¸º 1ï¼Œå¦åˆ™ä¸º 0&lt;/p&gt;</description>
    </item>
    <item>
      <title>KV Cache å…¥é—¨</title>
      <link>https://diefish1024.github.io/posts/ai-infra/kv-cache-%E5%85%A5%E9%97%A8/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/ai-infra/kv-cache-%E5%85%A5%E9%97%A8/</guid>
      <description>&lt;p&gt;æ¨ç†æ•ˆç‡å¯¹äº llm æ˜¯ä¸€ä¸ªè‡³å…³é‡è¦çš„é—®é¢˜ã€‚å½“æ¨¡å‹ç”Ÿæˆæ–‡æœ¬æ—¶ï¼Œå°¤å…¶æ˜¯ä»¥è‡ªå›å½’æ–¹å¼é€è¯ç”Ÿæˆæ—¶ï¼Œæ•ˆç‡ç“¶é¢ˆä¼šå˜å¾—éå¸¸æ˜æ˜¾ã€‚KV Cache å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜è€Œè¯ç”Ÿçš„æŠ€æœ¯ã€‚&lt;/p&gt;
&lt;h3 id=&#34;1-what-is-kv-cache&#34;&gt;1. What is KV Cache?&lt;/h3&gt;
&lt;p&gt;KV Cacheï¼Œå…¨ç§° &lt;strong&gt;Key-Value Cache&lt;/strong&gt;ï¼Œæ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œç”¨äºåŠ é€Ÿ Transformer æ¶æ„åœ¨è‡ªå›å½’ç”Ÿæˆè¿‡ç¨‹ä¸­çš„æ¨ç†é€Ÿåº¦ã€‚å®ƒçš„æ ¸å¿ƒæ€æƒ³æ˜¯&lt;strong&gt;ç¼“å­˜&lt;/strong&gt;å¹¶&lt;strong&gt;é‡ç”¨&lt;/strong&gt;åœ¨æ³¨æ„åŠ›æœºåˆ¶ä¸­è®¡ç®—å¾—åˆ°çš„ &lt;strong&gt;Key (K)&lt;/strong&gt; å’Œ &lt;strong&gt;Value (V)&lt;/strong&gt; å‘é‡ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-transformer-attention-mechanism-review&#34;&gt;2. Transformer Attention Mechanism Review&lt;/h3&gt;
&lt;p&gt;è¦ç†è§£ KV Cacheï¼Œé¦–å…ˆéœ€è¦å¯¹ Transformer æ¶æ„ä¸­çš„è‡ªæ³¨æ„åŠ›æœºåˆ¶æœ‰ä¸€ä¸ªåŸºæœ¬è®¤è¯†ã€‚è‡ªæ³¨æ„åŠ›æœºåˆ¶å…è®¸æ¨¡å‹åœ¨å¤„ç†åºåˆ—ä¸­çš„æŸä¸ªè¯æ—¶ï¼Œè€ƒè™‘åºåˆ—ä¸­æ‰€æœ‰å…¶ä»–è¯çš„é‡è¦æ€§ã€‚&lt;/p&gt;
&lt;p&gt;æ¯ä¸ªè¾“å…¥ tokenï¼ˆè¯æˆ–å­è¯ï¼‰åœ¨è¿›å…¥æ³¨æ„åŠ›å±‚æ—¶ï¼Œéƒ½ä¼šè¢«è½¬æ¢æˆä¸‰ä¸ªä¸åŒçš„å‘é‡ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Q å‘é‡ï¼šä»£è¡¨å½“å‰ token çš„â€œæŸ¥è¯¢â€ä¿¡æ¯&lt;/li&gt;
&lt;li&gt;K å‘é‡ï¼šä»£è¡¨æ‰€æœ‰ token çš„â€œé”®â€ä¿¡æ¯ï¼Œç”¨äºä¸ Query è¿›è¡ŒåŒ¹é…&lt;/li&gt;
&lt;li&gt;V å‘é‡ï¼šä»£è¡¨æ‰€æœ‰ token çš„â€œå€¼â€ä¿¡æ¯ï¼Œç”¨äºåŠ æƒæ±‚å’Œï¼Œå¾—åˆ°æœ€ç»ˆçš„è¾“å‡º&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è‡ªæ³¨æ„åŠ›æœºåˆ¶çš„è®¡ç®—è¿‡ç¨‹ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è®¡ç®— Query ä¸æ‰€æœ‰ Key çš„ç‚¹ç§¯ï¼Œå¾—åˆ°&lt;strong&gt;æ³¨æ„åŠ›åˆ†æ•°&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;å°†æ³¨æ„åŠ›åˆ†æ•°è¿›è¡Œç¼©æ”¾ï¼Œé™¤ä»¥ $\sqrt{d\_k}$ï¼ˆ$d\_k$ æ˜¯ Key å‘é‡çš„ç»´åº¦)&lt;/li&gt;
&lt;li&gt;å¯¹ç¼©æ”¾åçš„åˆ†æ•°è¿›è¡Œ Softmaxï¼Œå°†å…¶è½¬æ¢ä¸º&lt;strong&gt;æ³¨æ„åŠ›æƒé‡&lt;/strong&gt;ï¼Œè¡¨ç¤ºæ¯ä¸ª token å¯¹å½“å‰ token çš„é‡è¦æ€§&lt;/li&gt;
&lt;li&gt;å°†æ³¨æ„åŠ›æƒé‡ä¸ Value å‘é‡è¿›è¡ŒåŠ æƒæ±‚å’Œï¼Œå¾—åˆ°å½“å‰ token çš„æ³¨æ„åŠ›è¾“å‡º&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;å…¬å¼ä¸ºï¼š
$$
\text{Attention}(Q, K, V) = \text{softmax}\left(\frac{QK^T}{\sqrt{d\_k}}\right)V
$$
å…¶ä¸­çŸ©é˜µ $Q,K,V \in \mathbb{R}^{L \times d}$ ï¼Œ$L$ ä¸ºå½“å‰ä¸Šä¸‹æ–‡é•¿åº¦&lt;/p&gt;</description>
    </item>
    <item>
      <title>SSA</title>
      <link>https://diefish1024.github.io/posts/literature-notes/ssa/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/literature-notes/ssa/</guid>
      <description>&lt;h2 id=&#34;introduction&#34;&gt;Introduction&lt;/h2&gt;
&lt;p&gt;TTA åœ¨å›å½’ä»»åŠ¡ä¸Šçš„å±€é™ï¼šä¸ºåˆ†ç±»ä»»åŠ¡è®¾è®¡ï¼Œä¸€èˆ¬åŸºäºç†µæœ€å°åŒ–å’Œç‰¹å¾å¯¹é½ï¼›ç†µæœ€å°åŒ–ä¸é€‚ç”¨ï¼Œå›å½’æ¨¡å‹äº§ç”Ÿå•ä¸€å€¼ï¼Œä¸äº§ç”Ÿæ¦‚ç‡åˆ†å¸ƒï¼›ç®€å•ç‰¹å¾å¯¹é½å¯¹å›å½’æ¨¡å‹æ•ˆæœä¸ä½³ï¼Œå¯èƒ½åè€Œä¼šç¨€é‡Šéœ€è¦å­¦ä¹ çš„ç‰¹å¾&lt;/p&gt;
&lt;h2 id=&#34;problem-setting&#34;&gt;Problem Setting&lt;/h2&gt;
&lt;p&gt;è€ƒè™‘ä¸€ä¸ªå›å½’æ¨¡å‹ $f\&lt;em&gt;\theta: \mathcal{X} \to \mathbb{R}$ï¼Œå¯ä»¥è¿›ä¸€æ­¥åˆ†è§£ä¸º&lt;strong&gt;ç‰¹å¾æå–å™¨&lt;/strong&gt; $g\&lt;/em&gt;\phi: \mathcal{X} \to \mathbb{R}^D$ï¼ˆä»è¾“å…¥ $\mathcal{X}$ æå– $D$ ç»´ç‰¹å¾ $z$ï¼‰å’Œ&lt;strong&gt;çº¿æ€§å›å½’å™¨&lt;/strong&gt; $h\&lt;em&gt;\psi(z) = w^T z + b$ï¼ˆæˆ–è€… $h\&lt;/em&gt;{\psi}(z)=Wz+b$ï¼‰&lt;/p&gt;
&lt;p&gt;$f\_\theta$ é¦–å…ˆåœ¨ä¸€ä¸ªæœ‰æ ‡ç­¾çš„&lt;strong&gt;æºæ•°æ®é›†&lt;/strong&gt; $S = {(x\_i, y\&lt;em&gt;i)}\&lt;/em&gt;{i=1}^{N\_s}$ ä¸Šè¿›è¡Œé¢„è®­ç»ƒï¼Œæ•°æ®ä»æºåŸŸåˆ†å¸ƒ $p\_s$ ä¸­é‡‡æ ·&lt;/p&gt;
&lt;p&gt;ç›®æ ‡æ˜¯ä½¿ç”¨ä¸€ä¸ª&lt;strong&gt;æ— æ ‡ç­¾çš„&lt;/strong&gt;ç›®æ ‡æ•°æ®é›† $T = {x\&lt;em&gt;j}\&lt;/em&gt;{j=1}^{N\&lt;em&gt;t}$ æ¥é€‚åº”é¢„è®­ç»ƒå¥½çš„æ¨¡å‹ $f\&lt;/em&gt;\theta$ åˆ°ç›®æ ‡åŸŸ&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬å‡è®¾å­˜åœ¨ &lt;strong&gt;covariate shift&lt;/strong&gt; ï¼Œè¿™æ„å‘³ç€ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;è¾“å…¥æ•°æ®çš„åˆ†å¸ƒåœ¨æºåŸŸå’Œç›®æ ‡åŸŸä¹‹é—´æ˜¯ä¸åŒçš„ï¼š$p\_s(x) \neq p\_t(x)$&lt;/li&gt;
&lt;li&gt;ä½†ç»™å®šè¾“å…¥åï¼Œè¾“å‡ºçš„æ¡ä»¶åˆ†å¸ƒæ˜¯ç›¸åŒçš„ï¼š$p\_s(y|x) = p\_t(y|x)$&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;test-time-adaptation-for-regression&#34;&gt;Test-time Adaptation for Regression&lt;/h2&gt;
&lt;h3 id=&#34;basic-idea-feature-alignment&#34;&gt;Basic Idea: Feature Alignment&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;æœ´ç´ å®ç°&lt;/strong&gt;ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;strong&gt;è®¡ç®—æºåŸŸç‰¹å¾ç»Ÿè®¡é‡&lt;/strong&gt;ï¼šåœ¨æºåŸŸè®­ç»ƒåï¼Œè®¡ç®—æºåŸŸç‰¹å¾çš„&lt;strong&gt;å‡å€¼&lt;/strong&gt; $\mu^s$ å’Œ&lt;strong&gt;å…ƒç´ çº§æ–¹å·®&lt;/strong&gt; $\sigma^{s2}$
$$ \mu^s = \frac{1}{N\&lt;em&gt;s} \sum\&lt;/em&gt;{i=1}^{N\_s} z\_i^s, \quad \sigma^{s2} = \frac{1}{N\&lt;em&gt;s} \sum\&lt;/em&gt;{i=1}^{N\_s} (z\_i^s - \mu^s) \odot (z\_i^s - \mu^s) \quad \text{(1)} $$
å…¶ä¸­ $z\&lt;em&gt;i^s = g\&lt;/em&gt;\phi(x\_i)$ æ˜¯æºç‰¹å¾ï¼Œ$N\_s$ æ˜¯æºæ•°æ®æ ·æœ¬æ•°ï¼Œ$\odot$ è¡¨ç¤ºå…ƒç´ çº§ä¹˜ç§¯&lt;/p&gt;</description>
    </item>
    <item>
      <title>T-TIME</title>
      <link>https://diefish1024.github.io/posts/literature-notes/t-time/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/literature-notes/t-time/</guid>
      <description>&lt;h1 id=&#34;method&#34;&gt;Method&lt;/h1&gt;
&lt;h3 id=&#34;problem-set&#34;&gt;Problem Set&lt;/h3&gt;
&lt;p&gt;EEG æ•°æ® ${ X\&lt;em&gt;{s,l}^{i},y\&lt;/em&gt;{s,l}^{i} }\&lt;em&gt;{i=1}^{n\&lt;/em&gt;{s,l}}$ ï¼Œè¿›è¡Œæ— ç›‘ç£åœ¨çº¿ K åˆ†ç±»&lt;/p&gt;
&lt;h3 id=&#34;source-model-training&#34;&gt;Source Model Training&lt;/h3&gt;
&lt;p&gt;å¯¹æºæ•°æ®åš Euclidean alignment (EA) æ•°æ®å¯¹é½ï¼Œå‡å°‘ä¸åŒä¸ªä½“ EEG ä¿¡å·å·®å¼‚&lt;/p&gt;
&lt;p&gt;EA è®¡ç®—æ¯ä¸ªä¸ªä½“æ‰€æœ‰ EEG è¯•æ¬¡åæ–¹å·®çŸ©é˜µçš„ç®—æœ¯å¹³å‡å€¼
$$
R\&lt;em&gt;{s,l} = \dfrac{1}{n}\sum\&lt;/em&gt;{i=1}^{n} X\&lt;em&gt;{i}(X\&lt;/em&gt;{i})^{T} \implies \bar{X}\&lt;em&gt;{i} = R\&lt;/em&gt;{s,l}^{-1/2}X\_{i}
$$
ä¹‹åå†æ•´åˆç»è¿‡å¯¹é½çš„å—è¯•è€…æ•°æ®ï¼Œå½¢æˆâ€œæºåŸŸâ€&lt;/p&gt;
&lt;p&gt;åœ¨æ•´åˆåçš„æ•°æ®ä¸Šç‹¬ç«‹è®­ç»ƒ $M$ ä¸ªæ¨¡å‹&lt;/p&gt;
&lt;h3 id=&#34;incremental-ea-on-target-data&#34;&gt;Incremental EA on Target Data&lt;/h3&gt;
&lt;p&gt;å¯¹æ–°æ•°æ®å¢é‡å¼æ›´æ–°åæ–¹å·®çŸ©é˜µï¼Œå†ç”¨æ–°çš„çŸ©é˜µæ›´æ–°æ‰€æœ‰æµ‹è¯•æ•°æ®&lt;/p&gt;
&lt;h3 id=&#34;target-label-prediction&#34;&gt;Target Label Prediction&lt;/h3&gt;
&lt;p&gt;ç”¨è®­ç»ƒå¥½çš„ $M$ æ¨¡å‹åˆå§‹åŒ–ç”¨äºé€‚åº”ç›®æ ‡åŸŸçš„ $M$ ä¸ª TTA æ¨¡å‹ $f\_{m}$&lt;/p&gt;
&lt;p&gt;æ–°çš„ $X\&lt;em&gt;{a}$ ç»è¿‡ IEA è¢«å˜æ¢ä¸º $X\&lt;/em&gt;{a}&amp;rsquo;$ åè¢«è¾“å…¥åˆ°æ¯ä¸ªæ¨¡å‹ $f\&lt;em&gt;{m}$ ä¸­è¿›è¡Œåˆ†ç±»ï¼Œè¾“å‡ºæ¦‚ç‡å‘é‡ $f\&lt;/em&gt;{m}(X\_{a}&amp;rsquo;)$&lt;/p&gt;
&lt;p&gt;ä¹‹åç»“åˆè¿™ $M$ ä¸ªæ¦‚ç‡å‘é‡æ¥è·å¾—æœ€ç»ˆçš„é¢„æµ‹æ ‡ç­¾ $\hat{y}\_{a}$&lt;/p&gt;</description>
    </item>
    <item>
      <title>Tent</title>
      <link>https://diefish1024.github.io/posts/literature-notes/tent/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/literature-notes/tent/</guid>
      <description>&lt;h1 id=&#34;setting&#34;&gt;Setting&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;Fully Test-Time Adaptation&lt;/strong&gt; æ˜¯ä¸€ç§ç‹¬ç‰¹çš„æ¨¡å‹é€‚åº”è®¾å®šã€‚åœ¨æ­¤è®¾å®šä¸‹ï¼Œæ¨¡å‹ $f\_\theta(x)$ åœ¨è®­ç»ƒé˜¶æ®µå·²é€šè¿‡æºæ•°æ® $x^s$ å’Œæ ‡ç­¾ $y^s$ å®Œæˆè®­ç»ƒï¼Œè·å¾—å‚æ•° $\theta$ã€‚ä½†åœ¨æµ‹è¯•é˜¶æ®µï¼Œæ¨¡å‹å°†é‡åˆ°ä¸æºæ•°æ®åˆ†å¸ƒä¸åŒçš„æ— æ ‡ç­¾ç›®æ ‡æ•°æ® $x^t$ã€‚&lt;/p&gt;
&lt;p&gt;FTT-Adaptation ä¸ä»¥ä¸‹æ–¹æ³•ä¸åŒï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Fine-tuning&lt;/strong&gt;ï¼šéœ€è¦ç›®æ ‡æ ‡ç­¾è¿›è¡Œé‡æ–°è®­ç»ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Domain Adaptation&lt;/strong&gt;ï¼šéœ€è¦æºæ•°æ®å’Œç›®æ ‡æ•°æ®è¿›è¡Œè”åˆè®­ç»ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Test-Time Training (TTT)&lt;/strong&gt;ï¼šéœ€è¦ä¿®æ”¹è®­ç»ƒè¿‡ç¨‹å¹¶å…±åŒä¼˜åŒ–æœ‰ç›‘ç£åŠè‡ªç›‘ç£æŸå¤±ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ç›¸æ¯”ä¹‹ä¸‹ï¼ŒFTT-Adaptation ä»…èƒ½åˆ©ç”¨é¢„è®­ç»ƒæ¨¡å‹ $f\_\theta$ å’Œæ— æ ‡ç­¾ç›®æ ‡æ•°æ® $x^t$ è¿›è¡Œé€‚åº”ï¼Œä¸ä¾èµ–æºæ•°æ®æˆ–é¢å¤–çš„ç›‘ç£ä¿¡æ¯ã€‚&lt;/p&gt;
&lt;h2 id=&#34;method&#34;&gt;Method&lt;/h2&gt;
&lt;p&gt;è®ºæ–‡çš„æ ¸å¿ƒè´¡çŒ®æ˜¯æå‡ºäº† &lt;strong&gt;Tent&lt;/strong&gt; æ–¹æ³•ï¼Œå…¶æ ¸å¿ƒæ€æƒ³æ˜¯é€šè¿‡&lt;strong&gt;æœ€å°åŒ–æµ‹è¯•ç†µ&lt;/strong&gt;ï¼ˆ&lt;strong&gt;Test Entropy Minimization&lt;/strong&gt;ï¼‰æ¥é€‚åº”æ¨¡å‹é¢„æµ‹ï¼Œæ—¨åœ¨ä½¿æ¨¡å‹å¯¹æµ‹è¯•æ•°æ®çš„é¢„æµ‹ç»“æœæ›´â€œæœ‰ä¿¡å¿ƒâ€ã€‚&lt;/p&gt;
&lt;h3 id=&#34;entropy-objective&#34;&gt;Entropy Objective&lt;/h3&gt;
&lt;p&gt;Tent çš„æµ‹è¯•æ—¶ç›®æ ‡å‡½æ•°æ˜¯æœ€å°åŒ–æ¨¡å‹é¢„æµ‹ $\hat{y} = f\_\theta(x^t)$ çš„&lt;strong&gt;ç†µ $H(\hat{y})$&lt;/strong&gt;ã€‚è®ºæ–‡ä¸­ä½¿ç”¨çš„&lt;strong&gt;é¦™å†œç†µ&lt;/strong&gt;è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;p&gt;$$
H(\hat{y}) = - \sum\_c p(\hat{y}\_c) \log p(\hat{y}\_c)
$$&lt;/p&gt;
&lt;p&gt;å…¶ä¸­ï¼Œ $p(\hat{y}\_c)$ è¡¨ç¤ºæ¨¡å‹é¢„æµ‹ç›®æ ‡æ•°æ® $x^t$ å±äºç±»åˆ« $c$ çš„æ¦‚ç‡ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æœ€å°åŒ–ç†µä¿ƒä½¿æ¨¡å‹è¾“å‡ºæ›´â€œå°–é”â€æˆ–æ›´â€œç¡®å®šâ€çš„é¢„æµ‹åˆ†å¸ƒã€‚&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ä¼˜åŠ¿&lt;/strong&gt;ï¼šç†µæ˜¯ä¸€ç§&lt;strong&gt;æ— ç›‘ç£ç›®æ ‡&lt;/strong&gt;ï¼Œä»…ä¾èµ–äºæ¨¡å‹é¢„æµ‹ï¼Œä¸éœ€è¦çœŸå®æ ‡ç­¾ã€‚æœ€å°åŒ–ç†µä¸å‡å°‘é¢„æµ‹è¯¯å·®å’Œæ•°æ®æ¼‚ç§»ä¹‹é—´å­˜åœ¨å†…åœ¨è”ç³»ï¼Œå› ä¸ºæ›´ç¡®å®šçš„é¢„æµ‹é€šå¸¸æ„å‘³ç€æ›´æ­£ç¡®çš„é¢„æµ‹ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;modulation-parameters&#34;&gt;Modulation Parameters&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Tent&lt;/strong&gt; ä¸ç›´æ¥ä¿®æ”¹åŸå§‹æ¨¡å‹çš„å…¨éƒ¨å‚æ•° $\theta$ã€‚ç›¸åï¼Œå®ƒä»…æ›´æ–°æ¨¡å‹å†…éƒ¨å½’ä¸€åŒ–å±‚ï¼ˆå¦‚&lt;strong&gt;Batch Normalization layers&lt;/strong&gt;ï¼‰ä¸­çš„çº¿æ€§ä¸”ä½ç»´åº¦çš„&lt;strong&gt;ä»¿å°„å˜æ¢&lt;/strong&gt;å‚æ•°ï¼šå°ºåº¦å‚æ•° $\gamma$ å’Œåç§»å‚æ•° $\beta$ã€‚&lt;/p&gt;</description>
    </item>
    <item>
      <title>å¹¶å‘æ§åˆ¶ï¼šåŒæ­¥ (1)</title>
      <link>https://diefish1024.github.io/posts/nju-os-2025/15.-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5-1/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      <guid>https://diefish1024.github.io/posts/nju-os-2025/15.-%E5%B9%B6%E5%8F%91%E6%8E%A7%E5%88%B6%E5%90%8C%E6%AD%A5-1/</guid>
      <description>&lt;h2 id=&#34;åŒæ­¥å’Œæ¡ä»¶å˜é‡&#34;&gt;åŒæ­¥å’Œæ¡ä»¶å˜é‡&lt;/h2&gt;
&lt;p&gt;äº’æ–¥å®ç°äº†&lt;strong&gt;åŸå­æ€§&lt;/strong&gt;ï¼Œä½†æ˜¯æ— æ³•å®ç°&lt;strong&gt;ç¡®å®šæ€§&lt;/strong&gt;ï¼Œä¹Ÿå°±æ˜¯æ— æ³•æ­£ç¡®å®ç° &amp;ldquo;happens-before&amp;rdquo; çš„å…³ç³»&lt;/p&gt;
&lt;p&gt;å› æ­¤éœ€è¦å¼•å…¥æ¡ä»¶å˜é‡æ¥å®ç°çº¿ç¨‹çš„åŒæ­¥ï¼Œå½¢æˆå—æ§åˆ¶çš„å¹¶å‘äº‹ä»¶çš„&lt;strong&gt;å‘ç”Ÿé¡ºåº&lt;/strong&gt;ï¼ˆå¯ä»¥ç”¨ä¹å›¢æŒ‡æŒ¥æ¥ç±»æ¯”ï¼‰ï¼ŒæŠŠä¸€ç³»åˆ—ä¸ç¡®å®šçš„çŠ¶æ€åœ¨æŸä¸€ä¸ªæ—¶é—´ç‚¹åŒæ­¥åˆ°äº†ä¸€ä¸ªç¡®å®šçš„çŠ¶æ€ï¼Œå°†å‘æ•£çš„å¹¶å‘ç¨‹åºçŠ¶æ€ â€œæ”¶æŸâ€&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;å®ç°åŒæ­¥&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;å®ç° $A\to B$:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-gdscript3&#34; data-lang=&#34;gdscript3&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;bp&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;signal&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;until&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;the&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;condition&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;is&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;satisfied&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;è¿™æ ·çš„æ€è·¯å¤§è‡´æ­£ç¡®ï¼Œä½†æ˜¯è‡ªé€‰çš„å¾ªç¯æœ‰å¾ˆå¤§çš„æ€§èƒ½é—®é¢˜ï¼Œå› æ­¤éœ€è¦ä¸€ä¸ªæ›´åŠ åº•å±‚çš„æœºåˆ¶æ¥å¸®åŠ©å®ç°è¿™ä¸€ç‚¹&lt;/p&gt;
&lt;p&gt;æœ€ç†æƒ³çš„ API æ˜¯ &lt;code&gt;wait_until(cond)&lt;/code&gt; ï¼Œä½†æ˜¯è¿‡å»ä¸ºäº†ç®€åŒ–è®¾è®¡ï¼Œå˜æˆäº†&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;æ¡ä»¶ä¸æ»¡è¶³æ—¶ç­‰å¾…ï¼š&lt;code&gt;wait&lt;/code&gt; - ç›´æ¥ç¡çœ ç­‰å¾…&lt;/li&gt;
&lt;li&gt;æ¡ä»¶æ»¡è¶³æ—¶ç»§ç»­ï¼š&lt;code&gt;signal/broadcast&lt;/code&gt; - å”¤é†’æ‰€æœ‰çº¿ç¨‹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ï¼ˆå°æ—¶å€™çš„ scratch ç¼–ç¨‹å…¶å®å·²ç»æœ‰äº†è¿™æ ·çš„æ€æƒ³ğŸ˜‚ï¼‰&lt;/p&gt;
&lt;p&gt;åœ¨ c++ ä»£ç ä¸­æˆ‘ä»¬å¯ä»¥æŠŠæ¡ä»¶æ”¾åˆ° $\lambda$ è¡¨è¾¾å¼ä¸­ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;
&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11
&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;
&lt;td class=&#34;lntd&#34;&gt;
&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-c++&#34; data-lang=&#34;c++&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mutex&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;mtx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;condition_variable&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;T_player&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;std&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unique_lock&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;mtx&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;wait&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;		&lt;span class=&#34;p&#34;&gt;[]{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;can_proceed&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;cv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;notify_all&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;n&#34;&gt;lk&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unlock&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;p&gt;æ³¨æ„æ¡ä»¶å˜é‡åœ¨ç­‰å¾…æ—¶éœ€è¦å¸¦ç€ä¸€æŠŠé”ï¼ˆéœ€è¦ç¡®ä¿æ£€æŸ¥å’Œç­‰å¾…æ˜¯åŸå­æ“ä½œï¼‰&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
